import{_ as i}from"./ValaxyMain.vue_vue_type_style_index_0_lang-fe952921.js";import{_ as D,p as F,c as y,w as o,o as _,a as s,b as l,d as e,r as a,e as d}from"./app-a51598bf.js";import"./YunFooter.vue_vue_type_script_setup_true_lang-9cc900c2.js";import"./YunCard.vue_vue_type_script_setup_true_lang-fac3e250.js";import"./YunPageHeader.vue_vue_type_script_setup_true_lang-e8684ee8.js";const A="/images/pasted-284.png",u="/images/pasted-285.png",C="/images/pasted-286.png",h="/images/pasted-287.png",m="/images/pasted-288.png",f="/images/pasted-289.png",g="/images/pasted-290.png",E="/images/pasted-291.png",k="/images/pasted-292.png",v="/images/pasted-293.png",L="/images/pasted-294.png",w="/images/pasted-295.png",R="/images/pasted-296.png",b="/images/pasted-297.png",U="/images/pasted-298.png",B="/images/pasted-299.png",T="/images/pasted-300.png",M="/images/pasted-301.png",P="/images/pasted-302.png",N="/images/pasted-303.png",S="/images/pasted-304.png",V="/images/pasted-306.png",Xn=JSON.parse('{"title":"恶意URL检测(五)又是五篇文章","description":"","frontmatter":{"layout":"post","title":"恶意URL检测(五)又是五篇文章","tags":[],"categories":["恶意URL检测"],"author":"1ss4k","date":"2021-03-06T21:59:00.000Z"},"headers":[{"level":2,"title":"十一、卷积神经网络的方法实现准确且快速的URL钓鱼检测","slug":"十一、卷积神经网络的方法实现准确且快速的url钓鱼检测","link":"#十一、卷积神经网络的方法实现准确且快速的url钓鱼检测","children":[]},{"level":2,"title":"十二、URLdeepDetect: 使用语义矢量的用于检测恶意URL的深度学习模型","slug":"十二、urldeepdetect-使用语义矢量的用于检测恶意url的深度学习模型","link":"#十二、urldeepdetect-使用语义矢量的用于检测恶意url的深度学习模型","children":[]},{"level":2,"title":"十三、McPAD：准确的payload自动检测多分类器","slug":"十三、mcpad-准确的payload自动检测多分类器","link":"#十三、mcpad-准确的payload自动检测多分类器","children":[]},{"level":2,"title":"十四、利用线性和非线性空间转换的方法，借由特征来提升恶意URL的检测效果","slug":"十四、利用线性和非线性空间转换的方法-借由特征来提升恶意url的检测效果","link":"#十四、利用线性和非线性空间转换的方法-借由特征来提升恶意url的检测效果","children":[]},{"level":2,"title":"十五、大规模在线学习的应用：定位可疑的URLs","slug":"十五、大规模在线学习的应用-定位可疑的urls","link":"#十五、大规模在线学习的应用-定位可疑的urls","children":[]}],"relativePath":"pages/posts/Malicious URL_5.md","path":"/home/runner/work/1ss4kIT.github.io/1ss4kIT.github.io/pages/posts/Malicious URL_5.md","lastUpdated":1690730773000}'),c=JSON.parse('{"title":"恶意URL检测(五)又是五篇文章","description":"","frontmatter":{"layout":"post","title":"恶意URL检测(五)又是五篇文章","tags":[],"categories":["恶意URL检测"],"author":"1ss4k","date":"2021-03-06T21:59:00.000Z"},"headers":[{"level":2,"title":"十一、卷积神经网络的方法实现准确且快速的URL钓鱼检测","slug":"十一、卷积神经网络的方法实现准确且快速的url钓鱼检测","link":"#十一、卷积神经网络的方法实现准确且快速的url钓鱼检测","children":[]},{"level":2,"title":"十二、URLdeepDetect: 使用语义矢量的用于检测恶意URL的深度学习模型","slug":"十二、urldeepdetect-使用语义矢量的用于检测恶意url的深度学习模型","link":"#十二、urldeepdetect-使用语义矢量的用于检测恶意url的深度学习模型","children":[]},{"level":2,"title":"十三、McPAD：准确的payload自动检测多分类器","slug":"十三、mcpad-准确的payload自动检测多分类器","link":"#十三、mcpad-准确的payload自动检测多分类器","children":[]},{"level":2,"title":"十四、利用线性和非线性空间转换的方法，借由特征来提升恶意URL的检测效果","slug":"十四、利用线性和非线性空间转换的方法-借由特征来提升恶意url的检测效果","link":"#十四、利用线性和非线性空间转换的方法-借由特征来提升恶意url的检测效果","children":[]},{"level":2,"title":"十五、大规模在线学习的应用：定位可疑的URLs","slug":"十五、大规模在线学习的应用-定位可疑的urls","link":"#十五、大规模在线学习的应用-定位可疑的urls","children":[]}],"relativePath":"pages/posts/Malicious URL_5.md","path":"/home/runner/work/1ss4kIT.github.io/1ss4kIT.github.io/pages/posts/Malicious URL_5.md","lastUpdated":1690730773000}'),I={name:"pages/posts/Malicious URL_5.md",data(){return{data:c,frontmatter:c.frontmatter,$frontmatter:c.frontmatter}},setup(){F("pageData",c)}},$={id:"十一、卷积神经网络的方法实现准确且快速的url钓鱼检测",tabindex:"-1"},x=s("p",null,"1、作者来自 西电、陕西省网络计算与安全技术重点实验室、西北工业大学、捷克斯托乔瓦理工大学、西里西亚理工大学。发表期刊是 Elsevier-computer network-2020年4月。",-1),W=s("p",null,"2、本文的目的是检测钓鱼网站的URL地址，且只分析URL text。",-1),O=s("p",null,"3、前人工作",-1),z=s("p",null,"可以分为 基于list的 和 基于机器学习的。",-1),X=s("p",null,"一个比较好的应用是ad-hot(点对点网络)",-1),H=s("p",null,"4、本文方法",-1),j=s("p",null,[s("img",{src:A,alt:"upload successful"})],-1),G=s("ul",null,[s("li",null,"text coding")],-1),Z=s("p",null,"使用如图所示的 one-hot，编码为图像。(与常规的语言不同，所以编码，看作图像来处理。)",-1),J=s("p",null,[s("img",{src:u,alt:"upload successful"})],-1),K=s("p",null,"得到的结果是稀疏的，所以用到一个嵌入层，目的是将输入转换为一个数字来表示的简洁的矩阵。",-1),Q=s("p",null,"使用t-SNE方法，可以更加直观地看相似性。",-1),Y=s("p",null,"5、实验结果",-1),q=s("p",null,"与LSTM比较[9]。得出的结果是：CNN在各方面的处理效果都比LSTM好。",-1),ss=s("p",null,"6、代码测试",-1),ls=s("p",null,"如下：",-1),os=s("p",null,[s("img",{src:C,alt:"upload successful"})],-1),ns=s("p",null,"使用weka，将.arff格式的文件转为csv格式，便于后续操作。",-1),ts=s("p",null,"根据数据集的划分方法，可以学到一些知识，如：",-1),es=s("p",null,"使用@，会忽略前面的地址，只转到后面的地址。",-1),as=s("p",null,"//表示重定向。",-1),cs=s("p",null,"特征具体的解释见文件：Phishing Websites Features.docx",-1),ps=s("ul",null,[s("li",null,"安装seaborn")],-1),rs=s("div",{class:"language-python"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"sudo pip install seaborn")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"#python")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),s("span",{style:{color:"#A6ACCD"}}," seaborn "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"as"),s("span",{style:{color:"#A6ACCD"}}," sns")])])])],-1),is=s("p",null,"执行脚本如下",-1),Ds=s("div",{class:"language-python"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"# To perform operations on dataset")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),s("span",{style:{color:"#A6ACCD"}}," pandas "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"as"),s("span",{style:{color:"#A6ACCD"}}," pd")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),s("span",{style:{color:"#A6ACCD"}}," numpy "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"as"),s("span",{style:{color:"#A6ACCD"}}," np")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"# Machine learning model")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"from"),s("span",{style:{color:"#A6ACCD"}}," sklearn"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#A6ACCD"}},"model_selection "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),s("span",{style:{color:"#A6ACCD"}}," train_test_split")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"from"),s("span",{style:{color:"#A6ACCD"}}," sklearn"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#A6ACCD"}},"tree "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),s("span",{style:{color:"#A6ACCD"}}," DecisionTreeClassifier")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"# Visualization")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"from"),s("span",{style:{color:"#A6ACCD"}}," sklearn "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),s("span",{style:{color:"#A6ACCD"}}," metrics")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"from"),s("span",{style:{color:"#A6ACCD"}}," sklearn"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#A6ACCD"}},"metrics "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),s("span",{style:{color:"#A6ACCD"}}," confusion_matrix")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),s("span",{style:{color:"#A6ACCD"}}," matplotlib"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#F07178"}},"pyplot"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"as"),s("span",{style:{color:"#A6ACCD"}}," plt")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),s("span",{style:{color:"#A6ACCD"}}," seaborn "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"as"),s("span",{style:{color:"#A6ACCD"}}," sns")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"from"),s("span",{style:{color:"#A6ACCD"}}," sklearn"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#A6ACCD"}},"tree "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),s("span",{style:{color:"#A6ACCD"}}," export_graphviz")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"df "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," pd"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#82AAFF"}},"read_csv"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"data/dataset.csv"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"#dot_file = '.../tree.dot'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"#confusion_matrix_file = '.../confusion_matrix.png'")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"X "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," df"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#F07178"}},"iloc"),s("span",{style:{color:"#89DDFF"}},"[:,"),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#89DDFF"}},":-"),s("span",{style:{color:"#F78C6C"}},"1"),s("span",{style:{color:"#89DDFF"}},"]"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#676E95","font-style":"italic"}},"#特征空间")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"y "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," df"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#F07178"}},"iloc"),s("span",{style:{color:"#89DDFF"}},"[:,"),s("span",{style:{color:"#F07178"}}," "),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#F78C6C"}},"1"),s("span",{style:{color:"#89DDFF"}},"]"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#676E95","font-style":"italic"}},"#结果集合")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"Xtrain"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," Xtest"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," ytrain"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," ytest "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"train_test_split"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#82AAFF"}},"X"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#82AAFF"}}," y"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#82AAFF"}}," "),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"random_state"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#F78C6C"}},"0"),s("span",{style:{color:"#89DDFF"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"model "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"DecisionTreeClassifier"),s("span",{style:{color:"#89DDFF"}},"()")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"model"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#82AAFF"}},"fit"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#82AAFF"}},"Xtrain"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#82AAFF"}}," ytrain"),s("span",{style:{color:"#89DDFF"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"ypred "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," model"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#82AAFF"}},"predict"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#82AAFF"}},"Xtest"),s("span",{style:{color:"#89DDFF"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#82AAFF"}},"print"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#82AAFF"}},"metrics"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#82AAFF"}},"classification_report"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#82AAFF"}},"ypred"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#82AAFF"}}," ytest"),s("span",{style:{color:"#89DDFF"}},"))")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#82AAFF"}},"print"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#A6ACCD"}},"\\n\\n"),s("span",{style:{color:"#C3E88D"}},"Accuracy Score:"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#82AAFF"}}," metrics"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#82AAFF"}},"accuracy_score"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#82AAFF"}},"ytest"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#82AAFF"}}," ypred"),s("span",{style:{color:"#89DDFF"}},")."),s("span",{style:{color:"#82AAFF"}},"round"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#F78C6C"}},"2"),s("span",{style:{color:"#89DDFF"}},")*"),s("span",{style:{color:"#F78C6C"}},"100"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#82AAFF"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"%"),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#89DDFF"}},")")])])])],-1),Fs=s("p",null,"测试结果如下",-1),ys=s("p",null,[s("img",{src:h,alt:"upload successful"})],-1),_s=s("p",null,"结果还可以噢！但是具体本文的方法没有实现，因为木有找到源码1551",-1),ds=s("p",null,"收获：",-1),As=s("p",null,"1、CNN适用于处理图像。",-1),us=s("p",null,"2、本文用到了嵌入层，提高了实验效果。",-1),Cs=s("p",null,"3、与LSTM相比，CNN训练简单，时间短。",-1),hs={id:"十二、urldeepdetect-使用语义矢量的用于检测恶意url的深度学习模型",tabindex:"-1"},ms=s("p",null,"1、作者将现有的工作大致分为三类：",-1),fs=s("p",null,"(1)使用推特的特征和机器行为的数据",-1),gs=s("p",null,"(2)使用词汇、域名/主机名、URL特征",-1),Es=s("p",null,"(3)使用神经网络和矢量模型。",-1),ks=s("p",null,[l("但是他们存在如下的问题：(1)没有考虑URL分割得到的token的"),s("strong",null,"序列"),l("、(2)只出现了一次的词，不能提供有用的信息、(3)训练集中没有出现的词不能被正确预测。")],-1),vs=s("p",null,"基于此，本文提出了一个深度学习模型，有两种实现方法。",-1),Ls=s("p",null,"一：使用word embedding 获取URL分割成的token的语义序列，计算语义相似性得分，再得到矢量。并将其输入到LSTM模型中，并且使用到了k-means聚类。",-1),ws=s("p",null,"二：使用加密和k-means聚类的方法进行无监督的学习。",-1),Rs=s("p",null,"2、word2vec的本质",-1),bs=s("div",{class:"language-txt"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"举个简单例子，判断一个词的词性，是动词还是名词。用机器学习的思路，我们有一系列样本(x,y)，这里 x 是词语，y 是它们的词性，我们要构建 f(x)->y 的映射，但这里的数学模型 f（比如神经网络、SVM）只接受数值型输入，而 NLP 里的词语，是人类的抽象总结，是符号形式的（比如中文、英文、拉丁文等等），所以需要把他们转换成数值形式，或者说——嵌入到一个数学空间里，这种嵌入方式，就叫词嵌入（word embedding)，而 Word2vec，就是词嵌入（ word embedding) 的一种")])])])],-1),Us=s("p",null,"3、LSTM",-1),Bs=s("p",null,"​ LSTM是RNN的微调版本，其与embedding配合使用，效果最好。将上文产生的vector输入到LSTM中，用于训练。它可以解决内存不够的问题。",-1),Ts=s("p",null,"4、数据集",-1),Ms=s("p",null,[s("strong",null,"代码实践")],-1),Ps=s("p",null,"1、tokenization",-1),Ns=s("p",null,"需要使用NLTK。",-1),Ss=s("div",{class:"language-python"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"pip install nltk")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),s("span",{style:{color:"#A6ACCD"}}," nltk")])])])],-1),Vs=s("p",null,"测试如下",-1),Is=s("div",{class:"language-python"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),s("span",{style:{color:"#A6ACCD"}}," nltk")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"nltk"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#82AAFF"}},"download"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"punkt"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"text"),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"I love China!And this is used to test. And you?"),s("span",{style:{color:"#89DDFF"}},'"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"sens "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," nltk"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#82AAFF"}},"sent_tokenize"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#82AAFF"}},"text"),s("span",{style:{color:"#89DDFF"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"#sens = ['I love China!And this is used to test.', 'And you?']")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"words "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"["),s("span",{style:{color:"#A6ACCD"}},"nltk"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#82AAFF"}},"word_tokenize"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#82AAFF"}},"sentence"),s("span",{style:{color:"#89DDFF"}},")"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"for"),s("span",{style:{color:"#A6ACCD"}}," sentence "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"in"),s("span",{style:{color:"#A6ACCD"}}," sens"),s("span",{style:{color:"#89DDFF"}},"]")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"#words: ['I', 'love', 'China', '!', 'And', 'this', 'is', 'used', 'to', 'test', '.']")])])])],-1),$s=s("p",null,"2、Word2Vec",-1),xs=s("p",null,"参考文章",-1),Ws=s("div",{class:"language-python"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"pip install "),s("span",{style:{color:"#89DDFF"}},"-"),s("span",{style:{color:"#A6ACCD"}},"U gensim")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"pip install --upgrade gensim")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF","font-style":"italic"}},"from"),s("span",{style:{color:"#A6ACCD"}}," gensim"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#A6ACCD"}},"models "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"import"),s("span",{style:{color:"#A6ACCD"}}," word2vec")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C792EA"}},"class"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"MySentences"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#FFCB6B"}},"object"),s("span",{style:{color:"#89DDFF"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#C792EA"}},"def"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"__init__"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#F07178","font-style":"italic"}},"self"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"fname"),s("span",{style:{color:"#89DDFF"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"        self"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#F07178"}},"fname"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," fname    ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    "),s("span",{style:{color:"#C792EA"}},"def"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"__iter__"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#F07178","font-style":"italic"}},"self"),s("span",{style:{color:"#89DDFF"}},"):")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"      "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"for"),s("span",{style:{color:"#A6ACCD"}}," line "),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"in"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"open"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#A6ACCD"}},"self"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#F07178"}},"fname"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"r"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},"):"),s("span",{style:{color:"#A6ACCD"}}," 	"),s("span",{style:{color:"#89DDFF","font-style":"italic"}},"yield"),s("span",{style:{color:"#A6ACCD"}}," line"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#82AAFF"}},"split"),s("span",{style:{color:"#89DDFF"}},"()")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C792EA"}},"def"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"w2vTrain"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"f_input"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"model_output"),s("span",{style:{color:"#89DDFF"}},"):"),s("span",{style:{color:"#A6ACCD"}},"         ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    sentences "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#82AAFF"}},"MySentences"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#82AAFF"}},"DataDir"),s("span",{style:{color:"#89DDFF"}},"+"),s("span",{style:{color:"#82AAFF"}},"f_input"),s("span",{style:{color:"#89DDFF"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    w2v_model "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," word2vec"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#82AAFF"}},"Word2Vec"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#82AAFF"}},"sentences"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#82AAFF"}}," ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#82AAFF"}},"                                  "),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"min_count"),s("span",{style:{color:"#82AAFF"}}," "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#82AAFF"}}," MIN_COUNT"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#82AAFF"}}," ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#82AAFF"}},"                                  "),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"workers"),s("span",{style:{color:"#82AAFF"}}," "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#82AAFF"}}," CPU_NUM"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#82AAFF"}}," ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#82AAFF"}},"                                  "),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"size"),s("span",{style:{color:"#82AAFF"}}," "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#82AAFF"}}," VEC_SIZE"),s("span",{style:{color:"#89DDFF"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#82AAFF"}},"                                  "),s("span",{style:{color:"#A6ACCD","font-style":"italic"}},"window"),s("span",{style:{color:"#82AAFF"}}," "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#82AAFF"}}," CONTEXT_WINDOW")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#82AAFF"}},"                                 "),s("span",{style:{color:"#89DDFF"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"    w2v_model"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#82AAFF"}},"save"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#82AAFF"}},"ModelDir"),s("span",{style:{color:"#89DDFF"}},"+"),s("span",{style:{color:"#82AAFF"}},"model_output"),s("span",{style:{color:"#89DDFF"}},")")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#676E95","font-style":"italic"}},"# 训练")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"DataDir "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'""')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"ModelDir "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'""')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"MIN_COUNT "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"4")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"CPU_NUM "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"2"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#676E95","font-style":"italic"}},"# 需要预先安装 Cython 以支持并行")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"VEC_SIZE "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"20")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"CONTEXT_WINDOW "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"5"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#676E95","font-style":"italic"}},"# 提取目标词上下文距离最长5个词")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"f_input "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"bioCorpus_5000.txt"),s("span",{style:{color:"#89DDFF"}},'"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"model_output "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},'"'),s("span",{style:{color:"#C3E88D"}},"test_w2v_model"),s("span",{style:{color:"#89DDFF"}},'"')]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#82AAFF"}},"w2vTrain"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#82AAFF"}},"f_input"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#82AAFF"}}," model_output"),s("span",{style:{color:"#89DDFF"}},")")])])])],-1),Os=s("p",null,"训练完之后多了这个模型",-1),zs=s("p",null,[s("img",{src:m,alt:"upload successful"})],-1),Xs=s("div",{class:"language-python"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"w2v_model "),s("span",{style:{color:"#89DDFF"}},"="),s("span",{style:{color:"#A6ACCD"}}," word2vec"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#F07178"}},"Word2Vec"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#82AAFF"}},"load"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#82AAFF"}},"ModelDir"),s("span",{style:{color:"#89DDFF"}},"+"),s("span",{style:{color:"#82AAFF"}},"model_output"),s("span",{style:{color:"#89DDFF"}},")"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#676E95","font-style":"italic"}},"#加载模型")]),l(`
`),s("span",{class:"line"}),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"In "),s("span",{style:{color:"#89DDFF"}},"["),s("span",{style:{color:"#F78C6C"}},"22"),s("span",{style:{color:"#89DDFF"}},"]:"),s("span",{style:{color:"#A6ACCD"}}," w2v_model"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#82AAFF"}},"most_similar"),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"heart"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},")")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"usr"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"local"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#82AAFF"}},"bin"),s("span",{style:{color:"#89DDFF"}},"/"),s("span",{style:{color:"#A6ACCD"}},"ipython"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#F78C6C"}},"1"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#FFCB6B"}},"DeprecationWarning"),s("span",{style:{color:"#89DDFF"}},":"),s("span",{style:{color:"#A6ACCD"}}," Call to deprecated `most_similar` "),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#A6ACCD"}},"Method will be removed "),s("span",{style:{color:"#89DDFF"}},"in"),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"4.0"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#F07178"}},"0"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," use self"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#F07178"}},"wv"),s("span",{style:{color:"#89DDFF"}},"."),s("span",{style:{color:"#82AAFF"}},"most_similar"),s("span",{style:{color:"#89DDFF"}},"()"),s("span",{style:{color:"#A6ACCD"}}," instead"),s("span",{style:{color:"#89DDFF"}},").")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"  "),s("span",{style:{color:"#676E95","font-style":"italic"}},"#!/usr/bin/python3")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"Out"),s("span",{style:{color:"#89DDFF"}},"["),s("span",{style:{color:"#F78C6C"}},"22"),s("span",{style:{color:"#89DDFF"}},"]:")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#89DDFF"}},"[("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"protein"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"0.9994245767593384"),s("span",{style:{color:"#89DDFF"}},"),")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"pH"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"0.9993844032287598"),s("span",{style:{color:"#89DDFF"}},"),")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"synthesis"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"0.9993616342544556"),s("span",{style:{color:"#89DDFF"}},"),")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"A"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"0.9992623329162598"),s("span",{style:{color:"#89DDFF"}},"),")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"from"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"0.9992424249649048"),s("span",{style:{color:"#89DDFF"}},"),")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"by"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"0.9992324113845825"),s("span",{style:{color:"#89DDFF"}},"),")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"high"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"0.9992194175720215"),s("span",{style:{color:"#89DDFF"}},"),")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"or"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"0.9992164373397827"),s("span",{style:{color:"#89DDFF"}},"),")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"and"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"0.999205470085144"),s("span",{style:{color:"#89DDFF"}},"),")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#89DDFF"}},"("),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#C3E88D"}},"myocardial"),s("span",{style:{color:"#89DDFF"}},"'"),s("span",{style:{color:"#89DDFF"}},","),s("span",{style:{color:"#A6ACCD"}}," "),s("span",{style:{color:"#F78C6C"}},"0.9992042779922485"),s("span",{style:{color:"#89DDFF"}},")]")])])])],-1),Hs=s("p",null,"收获：",-1),js=s("p",null,"1、语义序列。本文及下篇文章都考虑到了序列的问题。本文考虑的是URL的token之间的序列，另一篇APT检测考虑的是主机发送的DNS请求之间的序列关系。",-1),Gs=s("p",null,"2、word2vec是参考nlp中的内容，它的本质是把词语转换成数值形式。除了 Word2vec之外，还有基于共现矩阵分解的 GloVe 等等词嵌入方法。(已证明了 Skip-gram 模型和 GloVe 的 cost fucntion 本质上是一样的)",-1),Zs=s("p",null,"3、本文提出了两种方法，分别是有监督的和无监督的，最终的效果都比较好。如果考虑到现实中无标签的数据比较多，无监督的方法应用的范围更大一些。",-1),Js={id:"十三、mcpad-准确的payload自动检测多分类器",tabindex:"-1"},Ks=s("p",null,"1、时间：2008年，较早",-1),Qs=s("p",null,"2、2v-grams",-1),Ys=s("p",null,"​ 相当于跳着字符编码，对于字符串abcdefg...，如果v=1，结果就是 ac,bd,eg....等等",-1),qs=s("p",null,"3、文章笔记手写",-1),sl=s("p",null,[s("img",{src:f,alt:"upload successful"})],-1),ll=s("p",null,[s("img",{src:g,alt:"upload successful"})],-1),ol=s("p",null,[s("img",{src:E,alt:"upload successful"})],-1),nl=s("p",null,[s("img",{src:k,alt:"upload successful"})],-1),tl=s("p",null,"4、降维",-1),el=s("p",null,"使用聚类的方法进行降维。",-1),al=s("p",null,"5、分类",-1),cl=s("p",null,"使用的是SVM分类器，训练好多个模型之后最终采用投票的方法决定最后的结果。",-1),pl=s("p",null,"6、复杂度分析",-1),rl=s("p",null,"模型的训练阶段是可以离线做的，所以此处只分析[分析阶段]。",-1),il=s("div",{class:"language-txt"},[s("span",{class:"copy"}),s("pre",{class:"shiki material-theme-palenight"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"假设payload的长度为n，2v-grams的频率为*O(n)*，而特征提取是2^16，是一个定值。特征聚类可查表得到，而总共的操作数always < 2^16，降维：O(1)。")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#A6ACCD"}},"...")])])])],-1),Dl=s("p",null,"总体复杂度：O(nm)",-1),Fl=s("p",null,"7、实验结果",-1),yl=s("p",null,"实验主要检测HTTP流量。并且将本文的McPAD与[35]的PAYL进行了对比。",-1),_l=s("p",null,"数据集：",-1),dl=s("li",null,"DARPA(HTTP请求)，但是过时了。",-1),Al=s("li",null,"GATECH(大学的真实请求)，但是不能保证它都是合法的数据。",-1),ul=s("p",null,"ROC：假阳率和检测率之间的平衡。",-1),Cl=s("p",null,"AUC：用来衡量恶性和良性的是否易于区分。通常来说，值越高，越易于区分，分类效果更好。",-1),hl=s("p",null,"(1)2v-grams",-1),ml=s("p",null,[s("img",{src:v,alt:"upload successful"})],-1),fl=s("p",null,"可以得到数据的平均相关信息。结果v=0时提取到的信息最多。",-1),gl=s("p",null,"(2)McPAD准确度",-1),El=s("p",null,"执行了交叉验证，计算了AUC。",-1),kl=s("p",null,"使用数据集，分别对两个模型进行训练。",-1),vl=s("p",null,"(3)对PBAs的鲁棒性",-1),Ll=s("p",null,"​ PBAs 主要是用来逃避检测的。一个攻击所包含的包较少时，本文的检测方法较好。但是当一个攻击涉及的包很多时，本文和对比的方法都不能较好地检测出攻击。",-1),wl=s("p",null,"(4)计算开销分析",-1),Rl=s("p",null,"过滤掉了没有TCP的包。结果如下：",-1),bl=s("p",null,[s("img",{src:L,alt:"upload successful"})],-1),Ul=s("p",null,"与对比文章相比，本文效果咩有它好，速度较慢，但是本文的方法容易并行计算，方便优化，预期速度还可以再提高。",-1),Bl=s("p",null,"(5)Bayesian检测率",-1),Tl=s("p",null,"定义：P(intrusion|Alarm)",-1),Ml=s("hr",null,null,-1),Pl=s("p",null,"找到了之前作者发布的代码，写于2006、2007年，用的java。",-1),Nl=s("p",null,[s("img",{src:w,alt:"upload successful"})],-1),Sl=s("p",null,"由于不会java，就不仔细看辽。",-1),Vl=s("p",null,"8、收获：",-1),Il=s("ul",null,[s("li",null,[s("p",null,"SVM对文本分类的效果较好。")]),s("li",null,[s("p",null,"使用2v-gram算法，不会损失信息，也不会使得运算很复杂。")]),s("li",null,[s("p",null,"参考本文的思路，可以使用一个不易被检测到的数据集，来评价所提出方法的鲁棒性。")]),s("li",null,[s("p",null,"McPAD在检测可执行代码方面，效果较好，且假阳率较低。")]),s("li",null,[s("p",null,"本文使用到了one-class分类器，只需要使用良性数据即可。")]),s("li",null,[s("p",null,"文章的评价指标用了Bayesian detection rate P(Intrusion|Alarm)，思考有什么作用？能反映出什么？")]),s("li",null,[s("p",null,"文章年代还是比较久远了，姚老师说还是尽量少看这么早的文章。")])],-1),$l={id:"十四、利用线性和非线性空间转换的方法-借由特征来提升恶意url的检测效果",tabindex:"-1"},xl=s("p",null,"1、2020年文章，期刊名称：Information Systems，影响因子：2.466，SCI二区。",-1),Wl=s("p",null,"2、一点笔记!",-1),Ol=s("p",null,[s("img",{src:R,alt:"upload successful"})],-1),zl=s("p",null,"目前的方法中，很少有关注特征转换的。",-1),Xl=s("p",null,"并且本文还用到了：cutting-edge技术，如：分布cache、Map减少映射和NoSQL数据库。",-1),Hl=s("p",null,"3、文章摘要说的系统 打不开。",-1),jl=s("p",null,"4、相关工作",-1),Gl=s("p",null,"主要分为四类：",-1),Zl=s("p",null,"(1)黑名单",-1),Jl=s("p",null,"(2)基于内容",-1),Kl=s("p",null,"(3)基于URL：比方法[2]更有效。[20]常规方法。 [4]提出了一种轻权重的方法，并且说自己的效果很好。",-1),Ql=s("p",null,"(4)特征工程feature engineering approach：[8]使用遗传算法，先将特征分为决定性的和非决定性的，将非决定性的转换为新的特征。特征转换中，主要分为线性和非线性。线性：矩阵因数分解，如PCA、SVD、NMF[26]。非线形：深度神经网络，AE。",-1),Yl=s("p",null,"(一个小细节：图2，黑名单和基于URL的描述写反了)",-1),ql=s("p",null,"5、数据收集",-1),so=s("p",null,"数据来自PhishTank和 360 Safety Center。",-1),lo=s("p",null,"6、特征提取",-1),oo=s("p",null,"主要分为四类特征",-1),no=s("p",null,"(1)基于域名的特征：TLDs、Expire days、Register days、Domain and its server sections",-1),to=s("p",null,"(2)基于主机的特征：国家、主机的赞助者、使用的技术",-1),eo=s("p",null,"(3)基于声望的特征：即在公共数据集上查看排名等。",-1),ao=s("p",null,"(4)基于词汇的特征：URL字符特征、关键字、",-1),co=s("p",null,"7、此数据集的特征",-1),po=s("p",null,"(1)数据的模式 随时间改变",-1),ro=s("p",null,"(2)URL的结构存在差异",-1),io=s("p",null,"(3)数据规模很大",-1),Do=s("p",null,"文中提及，使用s-SNE将数据的维度降低到2。具体的原理先不看了，这里只用知道它是一种非线性降维算法，非常适用于高维数据降维到2维或者3维，进行可视化。",-1),Fo=s("p",null,[s("img",{src:b,alt:"upload successful"})],-1),yo=s("p",null,"8、恶意URL检测的困难点/挑战",-1),_o=s("p",null,"下图是原始数据集的相关图，它显示了URL特征的部分内部关联。",-1),Ao=s("p",null,[s("img",{src:U,alt:"upload successful"})],-1),uo=s("p",null,"分析，认为主要有如下三个问题：",-1),Co=s("p",null,"(1)特征之间存在线形关联。---> SVD",-1),ho=s("p",null,"对于k-NN模型和SVM模型有影响。本文用SVD消除特征之间的相关性。",-1),mo=s("p",null,"(2)人工选择的某些特征可能不合适 ---> 使用基于LP距离metric学习的方法，为正交转换过的特征分配权重。",-1),fo=s("p",null,"本文提出了一个新的Distance Metric Learning(DML)算法，",-1),go=s("p",null,"(3)数据集过大，不能应用线形kernel方法。---> Nyström method",-1),Eo=s("p",null,"实际上，数据集过大，对很多模型来说，都会造成计算开销过大。",-1),ko=s("p",null,"9、本文方法",-1),vo=s("p",null,"(1)线形方法：",-1),Lo=s("ul",null,[s("li",null,[s("p",null,"使用LSH去搜索临近点")]),s("li",null,[s("p",null,"执行SVD，此时列是正交的")]),s("li",null,[s("p",null,"学习一个斜对角矩阵，它会为独立的特征分配权重。")]),s("li",null,[s("p",null,"投射得到Pa Pb")]),s("li",null,[s("p",null,"使用一些简单的方法，如k-NN即可解决。")])],-1),wo=s("p",null,"(2)非线形方法",-1),Ro=s("ul",null,[s("li",null,"Nyström method")],-1),bo=s("p",null,"[49]给出了结果有效性的证明。本文提出了SOFM做为聚类算法。",-1),Uo=s("p",null,"它的时间cost较低。",-1),Bo=s("p",null,"10、完整的线形和非线性转换",-1),To=s("p",null,"Pb是线形无监督的方法，Pa是线形有监督的方法。Φ ̃ n (x)是非线性无监督的方法。",-1),Mo=s("p",null,"(1)DML for Radial Basis Function in Nyström method",-1),Po=s("p",null,"RBF是kernel方法中最常使用的，形式如下：",-1),No=s("p",null,[s("img",{src:B,alt:"upload successful"})],-1),So=s("p",null,"(2)Kernelized DML: DML after Nyström method",-1),Vo=s("p",null,"缺点：转换之后维度可能过高。",-1),Io=s("p",null,"(3)Integrated space transformation framework",-1),$o=s("p",null,"整体的框架图如下：",-1),xo=s("p",null,[s("img",{src:T,alt:"upload successful"})],-1),Wo=s("p",null,"11、格搜索kernel函数中优化的参数",-1),Oo=s("p",null,"通过kernelized SVM去评估参数，效果如下图所示",-1),zo=s("p",null,[s("img",{src:M,alt:"upload successful"}),l(" 由图可知，最好的参数值是2^(-6)。")],-1),Xo=s("p",null,"12、实验结果",-1),Ho=s("p",null,"(1) TPR and accuracy evaluation based on 16 classifiers",-1),jo=s("p",null,"运用了3-fold交叉验证，TPR和准确度结果如下：",-1),Go=s("p",null,[s("img",{src:P,alt:"upload successful"})],-1),Zo=s("p",null,"(2)TPR and accuracy comparison with other feature selection models",-1),Jo=s("p",null,"(3) TPR and accuracy comparison with feature transformation models",-1),Ko=s("p",null,"VAE效果不好，将大多数URL都识别为良性的。",-1),Qo=s("p",null,"(4) Time cost evaluation of classifiers",-1),Yo=s("p",null,"结果如下图：",-1),qo=s("p",null,[s("img",{src:N,alt:"upload successful"})],-1),sn=s("p",null,"13、结论",-1),ln=s("p",null,"(1) Difference between TPR and overall accuracy",-1),on=s("p",null,"TPR比准确度更有价值。",-1),nn=s("p",null,"如果良性URL的数据集很大，会造成准确度虚高。",-1),tn=s("p",null,"(2) 计算复杂度",-1),en=s("p",null,"(3) 用多个标准去比较分类器的性能",-1),an=s("p",null,"结果统计如下表：",-1),cn=s("p",null,[s("img",{src:S,alt:"upload successful"})],-1),pn=s("p",null,"(4)所提出的特征工程的方法在深度学习中的重要性",-1),rn=s("p",null,"14、模型",-1),Dn=s("p",null,[s("img",{src:V,alt:"upload successful"})],-1),Fn=s("p",null,"收获：",-1),yn=s("p",null,"1、用到了SVD？？？这么牛？那是不是能用DWT、DFT、DCT？",-1),_n=s("p",null,"2、自己的方法要重点考虑到大规模的数据。",-1),dn=s("p",null,"3、神经网络过于强大",-1),An=s("p",null,"4、SVM可以自动学习特征的权重，而k-NN和Radial Basis Function不能学习权重。",-1),un=s("p",null,"5、本文数学公式较多，看的时候不能理解其深入内涵(我太菜了)",-1),Cn=s("p",null,"6、网上没有找到代码，所以并没有实际运行。",-1),hn={id:"十五、大规模在线学习的应用-定位可疑的urls",tabindex:"-1"},mn=s("p",null,"1、这篇是上一篇参考文献里引用到的，时间较早，2009年，当时发表于ICML，算是顶会了，CCF- A。",-1),fn=s("p",null,"2、特征：URL的语义和主机特征。并且使用mail服务新提供的含有标签的URL去更新系统，是online算法，比batch算法效果好。",-1),gn=s("p",null,"3、文中写了不使用[基于内容]的方法的优点，列了4点。",-1),En=s("p",null,"4、特征还是用的bag-of-words，但是考虑到了所在的地方不同。比如在TLD中的.com和在其他地方的是不一样的。",-1),kn=s("p",null,"5、前人方法中，有人用VM访问网站，再检测机器是否受感染。但是我认为这样不能及时发现一些隐藏起来的攻击。",-1),vn=s("p",null,"6、在线算法：",-1),Ln=s("p",null,"(1)SGD",-1),wn=s("p",null,"(2)PA：此算法尽可能地将模型改变的少一点。",-1),Rn=s("p",null,"(3)CW：每个特征有自己的系数测量方法。效果最好，假阳率最低。",-1),bn=s("p",null,"7、创新点是：系统是实时的，不断接受新的URL进来。并且使用的特征是随着数据变化的。",-1),Un=s("p",null,"8、结论：",-1),Bn=s("p",null,"(1)online 学习 ，效果比批量学习好",-1),Tn=s("p",null,"(2)在线学习算法中，CW效果最好",-1),Mn=s("p",null,"(3)持续训练比间隔着训练效果要好，添加新出现的特征比使用固定的特征效果好。",-1);function Pn(n,Nn,Sn,Vn,p,In){const t=d,r=i;return _(),y(r,{frontmatter:p.frontmatter,data:p.data},{"main-content-md":o(()=>[s("h2",$,[l("十一、卷积神经网络的方法实现准确且快速的URL钓鱼检测 "),e(t,{class:"header-anchor",href:"#十一、卷积神经网络的方法实现准确且快速的url钓鱼检测","aria-hidden":"true"},{default:o(()=>[l("#")]),_:1})]),x,W,O,z,X,H,j,G,Z,J,K,Q,Y,q,ss,s("p",null,[l("参考 "),e(t,{href:"https://www.activestate.com/blog/phishing-url-detection-with-python-and-ml/",target:"_blank",rel:"noreferrer"},{default:o(()=>[l("https://www.activestate.com/blog/phishing-url-detection-with-python-and-ml/")]),_:1})]),s("p",null,[l("使用的模型是决策树。数据集使用 "),e(t,{href:"https://archive.ics.uci.edu/ml/datasets/Phishing+Websites#",target:"_blank",rel:"noreferrer"},{default:o(()=>[l("https://archive.ics.uci.edu/ml/datasets/Phishing+Websites#")]),_:1})]),ls,os,ns,ts,es,as,cs,ps,rs,is,Ds,Fs,ys,_s,ds,As,us,Cs,s("h2",hs,[l("十二、URLdeepDetect: 使用语义矢量的用于检测恶意URL的深度学习模型 "),e(t,{class:"header-anchor",href:"#十二、urldeepdetect-使用语义矢量的用于检测恶意url的深度学习模型","aria-hidden":"true"},{default:o(()=>[l("#")]),_:1})]),ms,fs,gs,Es,ks,vs,Ls,ws,Rs,s("p",null,[l("参考 "),e(t,{href:"https://zhuanlan.zhihu.com/p/26306795%EF%BC%8C%E6%9C%89%E5%A6%82%E4%B8%8B%E6%80%BB%E7%BB%93",target:"_blank",rel:"noreferrer"},{default:o(()=>[l("https://zhuanlan.zhihu.com/p/26306795，有如下总结")]),_:1})]),bs,Us,Bs,Ts,s("p",null,[l("从"),e(t,{href:"https://www.kaggle.com/siddharthkumar25/malicious-and-benign-urls%E8%8E%B7%E5%8F%96%E6%95%B0%E6%8D%AE%E9%9B%86%EF%BC%8C%E5%85%B6%E6%9D%A5%E6%BA%90%E6%9C%89%E5%A4%9A%E4%B8%AA%EF%BC%8C%E4%BE%8B%E5%A6%82PhisTank%EF%BC%8C%E5%A4%A7%E5%B0%8F35.4MB%E3%80%82",target:"_blank",rel:"noreferrer"},{default:o(()=>[l("https://www.kaggle.com/siddharthkumar25/malicious-and-benign-urls获取数据集，其来源有多个，例如PhisTank，大小35.4MB。")]),_:1})]),Ms,Ps,Ns,Ss,Vs,Is,$s,xs,s("p",null,[e(t,{href:"https://medium.com/@pocheng0118/word2vec-from-scratch-skip-gram-cbow-98fd17385945",target:"_blank",rel:"noreferrer"},{default:o(()=>[l("https://medium.com/@pocheng0118/word2vec-from-scratch-skip-gram-cbow-98fd17385945")]),_:1})]),s("p",null,[e(t,{href:"https://www.jianshu.com/p/52ee8c5739b6",target:"_blank",rel:"noreferrer"},{default:o(()=>[l("https://www.jianshu.com/p/52ee8c5739b6")]),_:1})]),Ws,Os,zs,Xs,Hs,js,Gs,Zs,s("h2",Js,[l("十三、McPAD：准确的payload自动检测多分类器 "),e(t,{class:"header-anchor",href:"#十三、mcpad-准确的payload自动检测多分类器","aria-hidden":"true"},{default:o(()=>[l("#")]),_:1})]),Ks,Qs,Ys,qs,sl,ll,ol,nl,tl,el,al,cl,pl,rl,il,Dl,Fl,yl,_l,s("ul",null,[dl,Al,s("li",null,[l("[17]列出了非polymorphic的HTTP攻击，但是找不到polymorphic攻击的数据集，作者自己创造了一个，见网站 "),e(t,{href:"http://roberto.perdisci.googlepages.com/mcpad%E3%80%82%E6%94%BB%E5%87%BB%E5%8F%AF%E4%BB%A5%E5%88%86%E4%B8%BA%E5%A6%82%E4%B8%8B%E5%87%A0%E7%B1%BB%EF%BC%9A",target:"_blank",rel:"noreferrer"},{default:o(()=>[l("http://roberto.perdisci.googlepages.com/mcpad。攻击可以分为如下几类：")]),_:1}),l("(Generic Attack、Shell-code Attacks、CLET Attacks、PBAs)")])]),ul,Cl,hl,ml,fl,gl,El,kl,vl,Ll,wl,Rl,bl,Ul,Bl,Tl,Ml,Pl,Nl,Sl,Vl,Il,s("h2",$l,[l("十四、利用线性和非线性空间转换的方法，借由特征来提升恶意URL的检测效果 "),e(t,{class:"header-anchor",href:"#十四、利用线性和非线性空间转换的方法-借由特征来提升恶意url的检测效果","aria-hidden":"true"},{default:o(()=>[l("#")]),_:1})]),xl,Wl,Ol,zl,Xl,Hl,jl,Gl,Zl,Jl,Kl,Ql,Yl,ql,so,lo,oo,no,to,eo,ao,co,po,ro,io,Do,Fo,yo,_o,Ao,uo,Co,ho,mo,fo,go,Eo,ko,vo,Lo,wo,Ro,bo,Uo,Bo,To,Mo,Po,No,So,Vo,Io,$o,xo,Wo,Oo,zo,Xo,Ho,jo,Go,Zo,Jo,Ko,Qo,Yo,qo,sn,ln,on,nn,tn,en,an,cn,pn,rn,Dn,Fn,yn,_n,dn,An,un,Cn,s("h2",hn,[l("十五、大规模在线学习的应用：定位可疑的URLs "),e(t,{class:"header-anchor",href:"#十五、大规模在线学习的应用-定位可疑的urls","aria-hidden":"true"},{default:o(()=>[l("#")]),_:1})]),mn,fn,gn,En,kn,vn,Ln,wn,Rn,bn,Un,Bn,Tn,Mn]),"main-header":o(()=>[a(n.$slots,"main-header")]),"main-header-after":o(()=>[a(n.$slots,"main-header-after")]),"main-nav":o(()=>[a(n.$slots,"main-nav")]),"main-content":o(()=>[a(n.$slots,"main-content")]),"main-content-after":o(()=>[a(n.$slots,"main-content-after")]),"main-nav-before":o(()=>[a(n.$slots,"main-nav-before")]),"main-nav-after":o(()=>[a(n.$slots,"main-nav-after")]),comment:o(()=>[a(n.$slots,"comment")]),footer:o(()=>[a(n.$slots,"footer")]),aside:o(()=>[a(n.$slots,"aside")]),"aside-custom":o(()=>[a(n.$slots,"aside-custom")]),default:o(()=>[a(n.$slots,"default")]),_:3},8,["frontmatter","data"])}const Hn=D(I,[["render",Pn]]);export{Xn as __pageData,Hn as default};
